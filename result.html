<!DOCTYPE html>
<html>
<head>
<title>Lung Report</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

body{
margin:0;
font-family:Segoe UI;
background:linear-gradient(135deg,#00c6ff,#0072ff);
height:100vh;
display:flex;
justify-content:center;
align-items:center;
}

.card{
width:750px;
padding:30px;
border-radius:20px;
background:rgba(255,255,255,0.2);
backdrop-filter:blur(15px);
box-shadow:0 8px 32px rgba(0,0,0,0.2);
text-align:center;
color:white;
}

.report{
display:flex;
justify-content:space-around;
margin:20px 0;
}

.box{
background:white;
color:black;
padding:15px;
border-radius:10px;
width:140px;
}

.box h4{
margin:0;
}

.value{
font-size:22px;
font-weight:bold;
}

canvas{
background:white;
border-radius:10px;
padding:10px;
}

button{
margin:15px;
padding:10px 20px;
border:none;
border-radius:5px;
background:#00c6ff;
color:white;
cursor:pointer;
}

</style>
</head>

<body>

<div class="card">

<h2>Lung Health Insights</h2>

<div class="report">

<div class="box">
<h4>BMI</h4>
<p class="value" id="bmi"></p>
</div>

<div class="box">
<h4>Capacity</h4>
<p class="value" id="capacity"></p>
</div>

<div class="box">
<h4>Efficiency</h4>
<p class="value" id="efficiency"></p>
</div>

<div class="box">
<h4>Risk</h4>
<p class="value" id="risk"></p>
</div>

</div>

<canvas id="chart"></canvas>

<br>
<button onclick="goExercise()">Exercises</button>
<button onclick="goCertificate()">Certificate</button>

</div>

<script>

let age=localStorage.getItem("age");
let height=localStorage.getItem("height")/100;
let weight=localStorage.getItem("weight");
let activity=localStorage.getItem("activity");

let bmi=(weight/(height*height)).toFixed(2);
let capacity=(4000-(age*10)-(bmi*20)+(activity*200)).toFixed(2);
let efficiency=((capacity/4000)*100).toFixed(2);

let risk="";
let riskColor="";

if(efficiency>85){risk="Normal";riskColor="green";}
else if(efficiency>70){risk="Moderate";riskColor="orange";}
else{risk="High";riskColor="red";}

document.getElementById("bmi").innerHTML=bmi;
document.getElementById("capacity").innerHTML=capacity+" ml";
document.getElementById("efficiency").innerHTML=efficiency+"%";
document.getElementById("risk").innerHTML=risk;
document.getElementById("risk").style.color=riskColor;

new Chart(document.getElementById('chart'),{
type:'doughnut',
data:{
labels:["BMI","Efficiency"],
datasets:[{data:[bmi,efficiency]}]
}
});

function goExercise(){
window.location="exercise.html";
}

function goCertificate(){
localStorage.setItem("eff",efficiency);
localStorage.setItem("risk",risk);
window.location="certificate.html";
}

</script>

</body>
</html>
